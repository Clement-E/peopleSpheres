{"ast":null,"code":"import * as productsActions from '../actions/products';\nimport { generateId } from '../utils';\nimport moment from 'moment';\nexport const isFeatured = _ref => {\n  let {\n    itemsInStock,\n    featured\n  } = _ref;\n  return itemsInStock > 8 || featured;\n};\nexport function products() {\n  let state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n  let action = arguments.length > 1 ? arguments[1] : undefined;\n\n  switch (action.type) {\n    case productsActions.RECEIVE_PRODUCTS:\n      return [...action.products];\n\n    case productsActions.DELETE_PRODUCT:\n      return state.filter(item => item.id !== action.productId);\n\n    case productsActions.UPDATE_PRODUCT:\n      return state.map(item => {\n        if (item.id === action.productId) {\n          return { ...item,\n            ...action.data,\n            featured: isFeatured(action.data)\n          };\n        }\n\n        return item;\n      });\n\n    case productsActions.CREATE_PRODUCT:\n      console.log(action.data);\n      return state.concat([{ ...action.data,\n        id: generateId(),\n        featured: isFeatured(action.data),\n        createdAt: moment().format()\n      }]);\n\n    default:\n      return state;\n  }\n}\nexport function getProductById(_ref2, productId) {\n  let {\n    products\n  } = _ref2;\n  return products.find(_ref3 => {\n    let {\n      id\n    } = _ref3;\n    return id === productId;\n  });\n}","map":{"version":3,"names":["productsActions","generateId","moment","isFeatured","itemsInStock","featured","products","state","action","type","RECEIVE_PRODUCTS","DELETE_PRODUCT","filter","item","id","productId","UPDATE_PRODUCT","map","data","CREATE_PRODUCT","console","log","concat","createdAt","format","getProductById","find"],"sources":["/Users/EurekaTeam/Desktop/front-end-assessment-v1/src/reducers/products.js"],"sourcesContent":["import * as productsActions from '../actions/products';\nimport {generateId} from '../utils';\nimport moment from 'moment';\n\nexport const isFeatured = ({itemsInStock, featured}) => itemsInStock > 8 || featured;\n\nexport function products(state = [], action) {\n  switch (action.type) {\n    case productsActions.RECEIVE_PRODUCTS:\n      return [\n        ...action.products,\n      ];\n    case productsActions.DELETE_PRODUCT:\n      return state.filter((item) => item.id !== action.productId);\n    case productsActions.UPDATE_PRODUCT:\n      return state.map((item) => {\n        if (item.id === action.productId) {\n          return {\n            ...item,\n            ...action.data,\n            featured: isFeatured(action.data)\n          }\n        }\n        return item;\n      });\n    case productsActions.CREATE_PRODUCT:\n      console.log(action.data)\n      return state.concat([{\n        ...action.data,\n        id: generateId(),\n        featured: isFeatured(action.data),\n        createdAt: moment().format(),\n      }]);\n    default:\n      return state;\n  }\n}\n\nexport function getProductById({products}, productId) {\n  return products.find(({id}) => id === productId);\n}\n"],"mappings":"AAAA,OAAO,KAAKA,eAAZ,MAAiC,qBAAjC;AACA,SAAQC,UAAR,QAAyB,UAAzB;AACA,OAAOC,MAAP,MAAmB,QAAnB;AAEA,OAAO,MAAMC,UAAU,GAAG;EAAA,IAAC;IAACC,YAAD;IAAeC;EAAf,CAAD;EAAA,OAA8BD,YAAY,GAAG,CAAf,IAAoBC,QAAlD;AAAA,CAAnB;AAEP,OAAO,SAASC,QAAT,GAAsC;EAAA,IAApBC,KAAoB,uEAAZ,EAAY;EAAA,IAARC,MAAQ;;EAC3C,QAAQA,MAAM,CAACC,IAAf;IACE,KAAKT,eAAe,CAACU,gBAArB;MACE,OAAO,CACL,GAAGF,MAAM,CAACF,QADL,CAAP;;IAGF,KAAKN,eAAe,CAACW,cAArB;MACE,OAAOJ,KAAK,CAACK,MAAN,CAAcC,IAAD,IAAUA,IAAI,CAACC,EAAL,KAAYN,MAAM,CAACO,SAA1C,CAAP;;IACF,KAAKf,eAAe,CAACgB,cAArB;MACE,OAAOT,KAAK,CAACU,GAAN,CAAWJ,IAAD,IAAU;QACzB,IAAIA,IAAI,CAACC,EAAL,KAAYN,MAAM,CAACO,SAAvB,EAAkC;UAChC,OAAO,EACL,GAAGF,IADE;YAEL,GAAGL,MAAM,CAACU,IAFL;YAGLb,QAAQ,EAAEF,UAAU,CAACK,MAAM,CAACU,IAAR;UAHf,CAAP;QAKD;;QACD,OAAOL,IAAP;MACD,CATM,CAAP;;IAUF,KAAKb,eAAe,CAACmB,cAArB;MACEC,OAAO,CAACC,GAAR,CAAYb,MAAM,CAACU,IAAnB;MACA,OAAOX,KAAK,CAACe,MAAN,CAAa,CAAC,EACnB,GAAGd,MAAM,CAACU,IADS;QAEnBJ,EAAE,EAAEb,UAAU,EAFK;QAGnBI,QAAQ,EAAEF,UAAU,CAACK,MAAM,CAACU,IAAR,CAHD;QAInBK,SAAS,EAAErB,MAAM,GAAGsB,MAAT;MAJQ,CAAD,CAAb,CAAP;;IAMF;MACE,OAAOjB,KAAP;EA3BJ;AA6BD;AAED,OAAO,SAASkB,cAAT,QAAoCV,SAApC,EAA+C;EAAA,IAAvB;IAACT;EAAD,CAAuB;EACpD,OAAOA,QAAQ,CAACoB,IAAT,CAAc;IAAA,IAAC;MAACZ;IAAD,CAAD;IAAA,OAAUA,EAAE,KAAKC,SAAjB;EAAA,CAAd,CAAP;AACD"},"metadata":{},"sourceType":"module"}